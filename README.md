# Скрипты для автоматизации Vikings: War of Clans

Скрипты пишутся на языке Python. Исполняются с помощью утилиты [PengueeBot 1.10.41](https://github.com/1Ridav/PengueeBot/releases/tag/v1.10.41), для её работы необходим [Java Runtime Environment](https://www.java.com/ru/download/manual.jsp).

Для запуска приложения нужно на один уровень с текущей папкой положить [PengueeBot 1.10.41](https://github.com/1Ridav/PengueeBot/releases/download/v1.10.41/penguee-latest-release.zip) в папку `1.10.41` (либо в любую другую, после исправив путь в [PengueeBot.bat](PengueeBot.bat)).

## Убиватель захватчиков и духов

Скрипт [kill.single.invader.by.watchtower.py](kill.single.invader.by.watchtower.py).

Сохранённые фрагменты адаптированы под игру на английском языке. Но у вас они вряд ли будут работать, так что можете включтаь игру на русском.

### Фрагменты, использованные в скрипте:
* vikings.ico - иконка окна Vikings
* vikings.watchtower.navigator - надпись "Навигатор" в окне Дозорного
* vikings.invaders.invader - надпись "Захватчики" под именем захватчика в Навигаторе
* vikings.invaders.ghosts - надпись "Духи" под именем духа в Навигаторе
* vikings.watchtower.1km, vikings.watchtower.2km, ..., vikings.watchtower.8km - надписи "1км", "2км", ..., "8км" в Навигаторе. Фрагмент фотографируется с небольшим пустым расстоянием слева от первой цифры
* vikings.watchtower.coordinates - надпись "Координаты" в Навигаторе
* vikings.watchtower.info - кнопка "Инфо" в Навигаторе
* vikings.watchtower.Xclose - кнопка "Х" закрытия окна Дозорного
* vikings.location.view - кнопка "Просмотр" в окне локации своего города (на карте Мира ткнуть в свой город)
* vikings.relocate.buyandapply - кнопка "Купить и применить" в окне перемещения, если нет придметов Перемещение (на карте Мира ткнуть в пустое место)
* vikings.relocate.apply - кнопка "Применить" в окне перемещения, если есть предметы Перемещение (на карте Мира ткнуть в пустое место)
* vikings.relocate.relocation - надписть "Перемещение" в окне перемещения (на карте Мира ткнуть в пустое место)
* vikings.location.level - надпись "Уровень" на зеленом фоне в окне локации (на карте Мира ткнуть в любой город)
* vikings.location.Xclose - кнопка "Х" закрытия окна локации
* vikings.sustainedattack - надпись "Серийная атака" в окне боя с захватчиком
* vikings.normalattack - кнопка "Обычная атака" в окне боя с захватчиком
* vikings.enhancedattack - кнопка "Усиленная атака" в окне боя с захватчиком
* vikings.store - кнопка "Магазин" в появившемся при ударе окне, когда энергии не достаточно
* vikings.purchase.apply - кнопка "Применить" в списке покупок Энергии Героя или Силы Шамана
* vikings.store.apply - кнопка "Применить" в окне применения предмета Энергия Героя или Сила Шамана
* vikings.purchase.buyandapply - кнопка "Купить и применить" в списке покупок Энергии Героя или Силы Шамана
* vikings.store.buyandapply - кнопка "Купить и применить" в окне покупки предмета Энергия Героя или Сила Шамана
* vikings.tileamountof - надпись "Количество" в окне ресурсной локации
* vikings.watchtowerbutton - иконка здания Дозорный в верхней части окна (голова Орла)



Скрипт адаптирован под размер окна примерно 900px*900px. Поэтому перед запуском нужно выполнить команды [position.cms](position.cms) для [Clickermann](http://crapware.aidf.org/page/clickermann), тогда окно позиционируется туда, куда нужно.

Перед запуском в скрипте в секции config нужно раскомментировать одного захватчика или духа.

## Если есть проблемы ##
1. _не находит кнопки, захватчиков и т.п._ - это из-за различного склаживания шрифтов и оптимизации графики, придётся перефотографировать заново все кнопки. Имя изображения задаётся как _<имя папки>.<имя папки>.<имя файла>_
1. _иногда застревает и что-то не находит_ - это бывает, если курсор уже на позиции, но клик не сработал из-за лагов. При наведении курсора на разные элементы они подсвечиваются и перестают совпадать с шаблоном во фрагментах. Как решение, в скрипте после кликов на элементы сдвигать курсор, чтобы элемент снова выглядел как сохранённый в фрагменте.

## Полезные ссылки ##
1. [GitHub PengueeBot](https://github.com/1Ridav/PengueeBot)
1. [YouTube PengueeBot](https://www.youtube.com/watch?v=ctXy8Mnzbbw)
